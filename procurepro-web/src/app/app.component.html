<div class="app-container" *ngIf="auth.isAuthenticated()">
  <nav class="sidebar">
    <div class="logo">
      <h2>ProcurePro</h2>
    </div>
    <div class="nav-links">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">
        <span class="icon">ğŸ“Š</span>
        <span class="nav-label">Dashboard</span>
      </a>
      <a routerLink="/notifications" routerLinkActive="active" class="nav-link">
        <span class="icon">ğŸ””</span>
        <span class="nav-label">Notifications</span>
        <span class="badge" *ngIf="notificationsCount > 0">{{ notificationsCount }}</span>
      </a>
      <a routerLink="/reports" routerLinkActive="active" class="nav-link" *ngIf="auth.hasRole('ProcurementManager') || auth.hasRole('Admin')">
        <span class="icon">ğŸ“ˆ</span>
        <span class="nav-label">Reports</span>
      </a>
      <a routerLink="/rfq" routerLinkActive="active" class="nav-link">
        <span class="icon">ğŸ“‹</span>
        <span class="nav-label">RFQs</span>
      </a>
      <a routerLink="/bids" routerLinkActive="active" class="nav-link">
        <span class="icon">ğŸ’¼</span>
        <span class="nav-label">Bids</span>
      </a>
      <a routerLink="/purchase-orders" routerLinkActive="active" class="nav-link">
        <span class="icon">ğŸ“„</span>
        <span class="nav-label">Purchase Orders</span>
      </a>
      <a routerLink="/invoices" routerLinkActive="active" class="nav-link">
        <span class="icon">ğŸ’°</span>
        <span class="nav-label">Invoices</span>
      </a>
      <a routerLink="/vendors" routerLinkActive="active" class="nav-link" *ngIf="auth.hasRole('ProcurementManager') || auth.hasRole('Admin')">
        <span class="icon">ğŸ¢</span>
        <span class="nav-label">Vendors</span>
      </a>
      <div class="nav-divider" *ngIf="auth.hasRole('Admin')"></div>
      <a routerLink="/users" routerLinkActive="active" class="nav-link" *ngIf="auth.hasRole('Admin')">
        <span class="icon">ğŸ‘¥</span>
        <span class="nav-label">Users</span>
      </a>
      <a routerLink="/roles" routerLinkActive="active" class="nav-link" *ngIf="auth.hasRole('Admin')">
        <span class="icon">ğŸ”</span>
        <span class="nav-label">Roles</span>
      </a>
    </div>
    <div class="user-section">
      <div class="user-info">
        <strong>{{ auth.token?.displayName }}</strong>
        <small>{{ auth.token?.roles?.[0] || 'User' }}</small>
      </div>
      <button class="logout-btn" (click)="logout()">Logout</button>
    </div>
  </nav>
  <main class="main-content">
    <router-outlet />
  </main>
</div>

<router-outlet *ngIf="!auth.isAuthenticated()" />
